---
title: "MP2"
author: "Tingwei Hu, Eugene Yang, Anya Zhong, Andriana Patmanidis"
date: "2023-02-14"
output: html_document
---

```{r setup,include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(av)
```


```{r,more processing, message=FALSE}
walk.files <- list.files()[grep("walk_.*.txt",list.files())]
print(walk.files)

walk.dat <- list() #make a list for storing
for(i in walk.files){
  walk.i <- read_delim(i,delim="\t") #read data as a tibble
  met.dat <- unlist(strsplit(i,"_")) #split i for metadata and unlist it
  speed <- met.dat[2] #get speed
  subject <- gsub(".txt","",met.dat[3]) #remove ".txt" 
  walk.dat[[i]] <- walk.i%>%
    mutate(speed=speed,subject=subject)
}
```

```{r,combine}
walk.dat <- do.call(rbind,walk.dat)
head(walk.dat)
```
